<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1491px" preserveAspectRatio="none" style="width:1786px;height:1491px;" version="1.1" viewBox="0 0 1786 1491" width="1786px" zoomAndPan="magnify"><defs><filter height="300%" id="ftsq1s81pc5az" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="405" x="691.5" y="22.9951">1.0.0 Create initial postion and limits for participant</text><rect fill="#FFFFE0" height="1445.8438" style="stroke: #A80036; stroke-width: 1.0;" width="1049" x="687" y="34.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="119" x="1152" y="46.3638">Central Services</text><rect fill="#FFFFFF" filter="url(#ftsq1s81pc5az)" height="1250.25" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="97" y="126.5938"/><rect fill="#FFFFFF" filter="url(#ftsq1s81pc5az)" height="1204.9844" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="753" y="171.8594"/><rect fill="#FFFFFF" filter="url(#ftsq1s81pc5az)" height="480.2578" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1088" y="361.1875"/><rect fill="#FFFFFF" filter="url(#ftsq1s81pc5az)" height="462.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1088" y="870.5781"/><rect fill="#FFFFFF" filter="url(#ftsq1s81pc5az)" height="120.5313" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1430" y="405.4531"/><rect fill="#FFFFFF" filter="url(#ftsq1s81pc5az)" height="136.5313" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1430" y="651.6484"/><rect fill="#FFFFFF" filter="url(#ftsq1s81pc5az)" height="62.2656" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1679" y="434.5859"/><rect fill="#FFFFFF" filter="url(#ftsq1s81pc5az)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1679" y="680.7813"/><rect fill="#FFFFFF" filter="url(#ftsq1s81pc5az)" height="1243.25" style="stroke: #000000; stroke-width: 2.0;" width="1762" x="13" y="133.5938"/><rect fill="#FFFFFF" filter="url(#ftsq1s81pc5az)" height="786.7266" style="stroke: #000000; stroke-width: 2.0;" width="1742" x="23" y="583.1172"/><rect fill="#FFFFFF" filter="url(#ftsq1s81pc5az)" height="317.5313" style="stroke: #000000; stroke-width: 2.0;" width="1329" x="33" y="803.1797"/><rect fill="#FFFFFF" height="242.1328" style="stroke: none; stroke-width: 1.0;" width="1329" x="33" y="878.5781"/><rect fill="#FFFFFF" height="242.1328" style="stroke: none; stroke-width: 1.0;" width="1742" x="23" y="1127.7109"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="102" x2="102" y1="116.5938" y2="1393.8438"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="758" x2="758" y1="116.5938" y2="1393.8438"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1092.5" x2="1092.5" y1="116.5938" y2="1393.8438"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1435" x2="1435" y1="116.5938" y2="1393.8438"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1684" x2="1684" y1="116.5938" y2="1393.8438"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="112" x="43" y="113.292">HUB OPERATOR</text><ellipse cx="102" cy="43.2969" fill="#FEFECE" filter="url(#ftsq1s81pc5az)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M102,51.2969 L102,78.2969 M89,59.2969 L115,59.2969 M102,78.2969 L89,93.2969 M102,78.2969 L115,93.2969 " fill="none" filter="url(#ftsq1s81pc5az)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="112" x="43" y="1405.8389">HUB OPERATOR</text><ellipse cx="102" cy="1419.1406" fill="#FEFECE" filter="url(#ftsq1s81pc5az)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M102,1427.1406 L102,1454.1406 M89,1435.1406 L115,1435.1406 M102,1454.1406 L89,1469.1406 M102,1454.1406 L115,1469.1406 " fill="none" filter="url(#ftsq1s81pc5az)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="128" x="691" y="113.292">Central Service API</text><path d="M737.5,72.2969 L737.5,96.2969 M737.5,84.2969 L754.5,84.2969 " fill="none" filter="url(#ftsq1s81pc5az)" style="stroke: #A80036; stroke-width: 2.0;"/><ellipse cx="766.5" cy="84.2969" fill="#FEFECE" filter="url(#ftsq1s81pc5az)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="128" x="691" y="1405.8389">Central Service API</text><path d="M737.5,1413.1406 L737.5,1437.1406 M737.5,1425.1406 L754.5,1425.1406 " fill="none" filter="url(#ftsq1s81pc5az)" style="stroke: #A80036; stroke-width: 2.0;"/><ellipse cx="766.5" cy="1425.1406" fill="#FEFECE" filter="url(#ftsq1s81pc5az)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="129" x="1025.5" y="113.292">Participant Handler</text><ellipse cx="1093" cy="84.2969" fill="#FEFECE" filter="url(#ftsq1s81pc5az)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1089,72.2969,1095,67.2969,1093,72.2969,1095,77.2969,1089,72.2969" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="129" x="1025.5" y="1405.8389">Participant Handler</text><ellipse cx="1093" cy="1425.1406" fill="#FEFECE" filter="url(#ftsq1s81pc5az)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1089,1413.1406,1095,1408.1406,1093,1413.1406,1095,1418.1406,1089,1413.1406" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="132" x="1366" y="113.292">Participant FACADE</text><ellipse cx="1435" cy="84.2969" fill="#FEFECE" filter="url(#ftsq1s81pc5az)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="1423" x2="1447" y1="98.2969" y2="98.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="132" x="1366" y="1405.8389">Participant FACADE</text><ellipse cx="1435" cy="1425.1406" fill="#FEFECE" filter="url(#ftsq1s81pc5az)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="1423" x2="1447" y1="1439.1406" y2="1439.1406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="1636" y="113.292">Central Store</text><path d="M1666,64.2969 C1666,54.2969 1684,54.2969 1684,54.2969 C1684,54.2969 1702,54.2969 1702,64.2969 L1702,90.2969 C1702,100.2969 1684,100.2969 1684,100.2969 C1684,100.2969 1666,100.2969 1666,90.2969 L1666,64.2969 " fill="#FEFECE" filter="url(#ftsq1s81pc5az)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M1666,64.2969 C1666,74.2969 1684,74.2969 1684,74.2969 C1684,74.2969 1702,74.2969 1702,64.2969 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="1636" y="1405.8389">Central Store</text><path d="M1666,1419.1406 C1666,1409.1406 1684,1409.1406 1684,1409.1406 C1684,1409.1406 1702,1409.1406 1702,1419.1406 L1702,1445.1406 C1702,1455.1406 1684,1455.1406 1684,1455.1406 C1684,1455.1406 1666,1455.1406 1666,1445.1406 L1666,1419.1406 " fill="#FEFECE" filter="url(#ftsq1s81pc5az)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M1666,1419.1406 C1666,1429.1406 1684,1429.1406 1684,1429.1406 C1684,1429.1406 1702,1429.1406 1702,1419.1406 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><rect fill="#FFFFFF" filter="url(#ftsq1s81pc5az)" height="1250.25" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="97" y="126.5938"/><rect fill="#FFFFFF" filter="url(#ftsq1s81pc5az)" height="1204.9844" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="753" y="171.8594"/><rect fill="#FFFFFF" filter="url(#ftsq1s81pc5az)" height="480.2578" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1088" y="361.1875"/><rect fill="#FFFFFF" filter="url(#ftsq1s81pc5az)" height="462.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1088" y="870.5781"/><rect fill="#FFFFFF" filter="url(#ftsq1s81pc5az)" height="120.5313" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1430" y="405.4531"/><rect fill="#FFFFFF" filter="url(#ftsq1s81pc5az)" height="136.5313" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1430" y="651.6484"/><rect fill="#FFFFFF" filter="url(#ftsq1s81pc5az)" height="62.2656" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1679" y="434.5859"/><rect fill="#FFFFFF" filter="url(#ftsq1s81pc5az)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1679" y="680.7813"/><path d="M13,133.5938 L294,133.5938 L294,140.5938 L284,150.5938 L13,150.5938 L13,133.5938 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="1243.25" style="stroke: #000000; stroke-width: 2.0;" width="1762" x="13" y="133.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="236" x="28" y="146.6606">Create initial position and limits</text><polygon fill="#A80036" points="741,167.8594,751,171.8594,741,175.8594,745,171.8594" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="107" x2="747" y1="171.8594" y2="171.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="114" y="166.7935">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="614" x="127" y="166.7935">Request to Create initial position and limits - POST - /paticipants/{name}/initialPositionAndLimits</text><path d="M112,184.8594 L112,330.8594 L348,330.8594 L348,194.8594 L338,184.8594 L112,184.8594 " fill="#FFFF00" filter="url(#ftsq1s81pc5az)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M338,184.8594 L338,194.8594 L348,194.8594 L338,184.8594 " fill="#FFFF00" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="61" x="118" y="201.9263">Message:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="118" y="217.0591">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="155" x="134" y="232.1919">currency: &lt;currencyId&gt;,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="43" x="134" y="247.3247">limit: {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="119" x="150" y="262.4575">type: &lt;limitType&gt;,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="127" x="150" y="277.5903">value: &lt;limitValue&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="12" x="134" y="292.7231">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="199" x="134" y="307.856">initialPosition: &lt;positionValue&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="118" y="322.9888">}</text><polygon fill="#A80036" points="1076,357.1875,1086,361.1875,1076,365.1875,1080,361.1875" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="763" x2="1082" y1="361.1875" y2="361.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="770" y="356.1216">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="293" x="783" y="356.1216">Create initial position and limits for Participant</text><polygon fill="#A80036" points="1418,401.4531,1428,405.4531,1418,409.4531,1422,405.4531" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1098" x2="1424" y1="405.4531" y2="405.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="1105" y="392.8208">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="107" x="1118" y="385.2544">Fetch Participant</text><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="82" x="1118" y="400.3872">Error code:</text><text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="32" x="1204" y="400.3872">3200</text><polygon fill="#A80036" points="1667,430.5859,1677,434.5859,1667,438.5859,1671,434.5859" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1440" x2="1673" y1="434.5859" y2="434.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="1447" y="429.52">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="107" x="1460" y="429.52">Fetch Participant</text><polygon fill="#FFFFE0" filter="url(#ftsq1s81pc5az)" points="1648,447.5859,1720,447.5859,1730,458.5859,1720,470.5859,1648,470.5859,1638,458.5859,1648,447.5859" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="68" x="1650" y="463.6528">participant</text><polygon fill="#A80036" points="1451,492.8516,1441,496.8516,1451,500.8516,1447,496.8516" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1445" x2="1683" y1="496.8516" y2="496.8516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="1457" y="491.7856">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="132" x="1470" y="491.7856">Retrieved Participant</text><polygon fill="#A80036" points="1109,521.9844,1099,525.9844,1109,529.9844,1105,525.9844" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1103" x2="1434" y1="525.9844" y2="525.9844"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="1115" y="520.9185">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="114" x="1128" y="520.9185">Return Participant</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1098" x2="1140" y1="555.1172" y2="555.1172"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1140" x2="1140" y1="555.1172" y2="568.1172"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1099" x2="1140" y1="568.1172" y2="568.1172"/><polygon fill="#A80036" points="1109,564.1172,1099,568.1172,1109,572.1172,1105,568.1172" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="1105" y="550.0513">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="90" x="1118" y="550.0513">Validate DFSP</text><path d="M23,583.1172 L87,583.1172 L87,590.1172 L77,600.1172 L23,600.1172 L23,583.1172 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="786.7266" style="stroke: #000000; stroke-width: 2.0;" width="1742" x="23" y="583.1172"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="38" y="596.1841">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="202" x="102" y="595.3276">[Validate participant (success)]</text><polygon fill="#A80036" points="1418,647.6484,1428,651.6484,1418,655.6484,1422,651.6484" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1098" x2="1424" y1="651.6484" y2="651.6484"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="1105" y="631.4497">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="296" x="1118" y="616.3169">create initial position and limits for Participantt</text><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="82" x="1118" y="631.4497">Error code:</text><text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="36" x="1204" y="631.4497">2003/</text><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="36" x="1240" y="631.4497">Msg:</text><text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="123" x="1280" y="631.4497">Service unavailable</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="1411" y="631.4497"/><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="82" x="1118" y="646.5825">Error code:</text><text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="36" x="1204" y="646.5825">2001/</text><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="36" x="1240" y="646.5825">Msg:</text><text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="129" x="1280" y="646.5825">Internal Server Error</text><polygon fill="#A80036" points="1667,676.7813,1677,680.7813,1667,684.7813,1671,680.7813" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1440" x2="1673" y1="680.7813" y2="680.7813"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="1447" y="675.7153">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="207" x="1460" y="675.7153">Persist Participant limits/position</text><polygon fill="#FFFFE0" filter="url(#ftsq1s81pc5az)" points="1623,723.7813,1745,723.7813,1755,742.7813,1745,761.7813,1623,761.7813,1613,742.7813,1623,723.7813" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="118" x="1625" y="739.8481">participantPosition</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="99" x="1625" y="754.981">participantLimit</text><polygon fill="#A80036" points="1109,784.1797,1099,788.1797,1109,792.1797,1105,788.1797" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1103" x2="1434" y1="788.1797" y2="788.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="1115" y="783.1138">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="86" x="1137" y="783.1138">Return status</text><path d="M33,803.1797 L97,803.1797 L97,810.1797 L87,820.1797 L33,820.1797 L33,803.1797 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="317.5313" style="stroke: #000000; stroke-width: 2.0;" width="1329" x="33" y="803.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="48" y="816.2466">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="202" x="112" y="815.3901">[Details persisted successfully]</text><polygon fill="#A80036" points="774,837.4453,764,841.4453,774,845.4453,770,841.4453" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="768" x2="1092" y1="841.4453" y2="841.4453"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="780" y="836.3794">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="153" x="802" y="836.3794">Return Status Code 201</text><polygon fill="#A80036" points="118,866.5781,108,870.5781,118,874.5781,114,870.5781" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="112" x2="752" y1="870.5781" y2="870.5781"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="124" y="865.5122">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="153" x="146" y="865.5122">Return Status Code 201</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="33" x2="1362" y1="879.5781" y2="879.5781"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="179" x="38" y="889.7886">[Details not persisted/Error]</text><path d="M1103,898.3828 L1103,923.3828 L1160,923.3828 L1160,908.3828 L1150,898.3828 L1103,898.3828 " fill="#FF0000" filter="url(#ftsq1s81pc5az)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1150,898.3828 L1150,908.3828 L1160,908.3828 L1150,898.3828 " fill="#FF0000" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="36" x="1109" y="915.4497">Error!</text><path d="M1103,937.5156 L1103,1052.5156 L1348,1052.5156 L1348,947.5156 L1338,937.5156 L1103,937.5156 " fill="#FFFF00" filter="url(#ftsq1s81pc5az)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1338,937.5156 L1338,947.5156 L1348,947.5156 L1338,937.5156 " fill="#FFFF00" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="61" x="1109" y="954.5825">Message:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="1125" y="969.7153">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="130" x="1141" y="984.8481">"errorInformation": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="176" x="1157" y="999.981">"errorCode": &lt;Error Code&gt;,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="173" x="1157" y="1015.1138">"errorDescription": &lt;Msg&gt;,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="1141" y="1030.2466">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="1125" y="1045.3794">}</text><polygon fill="#A80036" points="774,1079.5781,764,1083.5781,774,1087.5781,770,1083.5781" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="768" x2="1087" y1="1083.5781" y2="1083.5781"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="780" y="1078.5122">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="42" x="802" y="1078.5122">Return</text><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="77" x="848" y="1078.5122">Error code</text><polygon fill="#A80036" points="118,1108.7109,108,1112.7109,118,1116.7109,114,1112.7109" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="112" x2="752" y1="1112.7109" y2="1112.7109"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="124" y="1107.645">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="42" x="146" y="1107.645">Return</text><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="77" x="192" y="1107.645">Error code</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="23" x2="1765" y1="1128.7109" y2="1128.7109"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="193" x="28" y="1138.9214">[Validate participant (failure)]</text><path d="M1103,1147.5156 L1103,1172.5156 L1235,1172.5156 L1235,1157.5156 L1225,1147.5156 L1103,1147.5156 " fill="#FF0000" filter="url(#ftsq1s81pc5az)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1225,1147.5156 L1225,1157.5156 L1235,1157.5156 L1225,1147.5156 " fill="#FF0000" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="111" x="1109" y="1164.5825">Validation failure!</text><path d="M1103,1186.6484 L1103,1301.6484 L1416,1301.6484 L1416,1196.6484 L1406,1186.6484 L1103,1186.6484 " fill="#FFFF00" filter="url(#ftsq1s81pc5az)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1406,1186.6484 L1406,1196.6484 L1416,1196.6484 L1406,1186.6484 " fill="#FFFF00" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="61" x="1109" y="1203.7153">Message:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="1125" y="1218.8481">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="130" x="1141" y="1233.981">"errorInformation": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="118" x="1157" y="1249.1138">"errorCode": 3200,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="244" x="1157" y="1264.2466">"errorDescription": "FSP id Not Found",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="1141" y="1279.3794">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="1125" y="1294.5122">}</text><polygon fill="#A80036" points="774,1328.7109,764,1332.7109,774,1336.7109,770,1332.7109" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="768" x2="1092" y1="1332.7109" y2="1332.7109"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="780" y="1327.645">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="42" x="802" y="1327.645">Return</text><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="82" x="848" y="1327.645">Error code:</text><text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="32" x="934" y="1327.645">3200</text><polygon fill="#A80036" points="118,1357.8438,108,1361.8438,118,1365.8438,114,1361.8438" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="112" x2="752" y1="1361.8438" y2="1361.8438"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="124" y="1356.7778">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="42" x="146" y="1356.7778">Return</text><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="82" x="192" y="1356.7778">Error code:</text><text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="32" x="278" y="1356.7778">3200</text><!--
@startuml
title 1.0.0 Create initial postion and limits for participant

autonumber



actor "HUB OPERATOR" as OPERATOR
boundary "Central Service API" as CSAPI
control "Participant Handler" as PARTICIPANT_HANDLER
entity "Central Service API" as CSAPI
entity "Participant FACADE" as PARTICIPANT_DAO
database "Central Store" as DB

box "Central Services" #LightYellow
participant CSAPI
participant PARTICIPANT_HANDLER
participant PARTICIPANT_DAO
participant DB
end box


activate OPERATOR
group Create initial position and limits
    OPERATOR -> CSAPI: Request to Create initial position and limits - POST - /paticipants/{name}/initialPositionAndLimits
    note right of OPERATOR #yellow
        Message:
        {
            currency: <currencyId>,
            limit: {
                type: <limitType>,
                value: <limitValue>
            },
            initialPosition: <positionValue>
        }
    end note

    activate CSAPI
    CSAPI -> PARTICIPANT_HANDLER: Create initial position and limits for Participant
    activate PARTICIPANT_HANDLER
    PARTICIPANT_HANDLER ->PARTICIPANT_DAO: Fetch Participant \n<color #FF0000><b>Error code:</b> 3200</color>

    activate PARTICIPANT_DAO
    PARTICIPANT_DAO -> DB: Fetch Participant
    activate DB
    hnote over DB #lightyellow
        participant
    end note
    DB - -> PARTICIPANT_DAO: Retrieved Participant
    deactivate DB
    PARTICIPANT_DAO - -> PARTICIPANT_HANDLER: Return Participant
    deactivate PARTICIPANT_DAO
    PARTICIPANT_HANDLER ->PARTICIPANT_HANDLER: Validate DFSP
    alt Validate participant (success)
        PARTICIPANT_HANDLER ->PARTICIPANT_DAO: create initial position and limits for Participantt \n<color #FF0000><b>Error code:</b> 2003/<b>Msg:</b> Service unavailable </color> \n<color #FF0000><b>Error code:</b> 2001/<b>Msg:</b> Internal Server Error </color>
        activate PARTICIPANT_DAO
        PARTICIPANT_DAO -> DB: Persist Participant limits/position
        activate DB
        hnote over DB #lightyellow
            participantPosition
            participantLimit
        end note
        deactivate DB
        PARTICIPANT_DAO - -> PARTICIPANT_HANDLER: Return status
        deactivate PARTICIPANT_DAO
        alt Details persisted successfully
            PARTICIPANT_HANDLER - ->CSAPI: Return Status Code 201
            deactivate PARTICIPANT_HANDLER
            CSAPI - ->OPERATOR: Return Status Code 201
        else Details not persisted/Error
            note right of PARTICIPANT_HANDLER #red: Error!
            activate PARTICIPANT_HANDLER
            note right of PARTICIPANT_HANDLER #yellow
            Message:
                {
                    "errorInformation": {
                        "errorCode": <Error Code>,
                        "errorDescription": <Msg>,
                    }
                }
            end note
            PARTICIPANT_HANDLER - ->CSAPI: Return <color #FF0000><b>Error code</b></color>
            CSAPI - ->OPERATOR: Return <color #FF0000><b>Error code</b></color>
            
        end

    else Validate participant (failure)
        note right of PARTICIPANT_HANDLER #red: Validation failure!
        activate PARTICIPANT_HANDLER
        note right of PARTICIPANT_HANDLER #yellow
            Message:
                {
                    "errorInformation": {
                        "errorCode": 3200,
                        "errorDescription": "FSP id Not Found",
                    }
                }
        end note
        PARTICIPANT_HANDLER - ->CSAPI: Return <color #FF0000><b>Error code:</b> 3200</color>
        deactivate PARTICIPANT_HANDLER
        CSAPI - ->OPERATOR: Return <color #FF0000><b>Error code:</b> 3200</color>

    end
    deactivate CSAPI
    deactivate OPERATOR
end
@enduml

PlantUML version 1.2018.08(Sun Jun 24 12:31:00 UTC 2018)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.7.0_25-b15
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>